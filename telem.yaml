---
receivers:
  hostmetrics:
    collection_interval: 60s
    scrapers:
      cpu:
      disk:
      load:
      filesystem:
      memory:
      network:
      paging:
      processes:
  syslog:
    tcp:
      listen_address: "0.0.0.0:54527"
    protocol: rfc3164
  redfish:
    host: "iDRAC-server-host-name"
    username: "username to connect iDRAC sever"
    password: "password to connect iDRAC sever"
    token: "or token to connect iDRAC sever"
processors:
  resourcedetection/system:
    detectors: [ "system" ]
    system:
      hostname_sources: [ "os" ]
  resourceattributetransposer:
    operations:
    - from: "host.name"
      to: "hostname"
    - from: "process.pid"
      to: "pid"
    - from: "process.executable.name"
      to: "binary"
  batch:
exporters:
  file/redfish/met:
    path: /tmp/redfish/metrics
    # use default approach of "eventsPerFile" for file size and its default value one event per file
    # default can be changed to "fileSizeKb" for file size and its default value will be 100kb
    #default: eventsPerFile original
    # use either fileSizeKb or eventsPerFile to defined custom size for the file.
    fileSizeKb: 30
    #eventsPerFile: 2
    #format of the exported data can be json or protobuf
    format: json
  file/redfish/logs:
    path: /tmp/redfish/logs
    eventsPerFile: 1
    format: json
  file/host/met:
    path: /tmp/host/metrics
    fileSizeKb: 30
    format: json
  file/host/log:
    path: /tmp/host/logs
    eventsPerFile: 2
    format: json    
service:
  pipelines:
    metrics:
      receivers: [hostmetrics]
      processors: [resourcedetection/system, resourceattributetransposer, batch]
      exporters: [file/host/met]  
    logs:
      receivers: [syslog]
      processors: [resourceattributetransposer,batch]
      exporters: [file/host/log]
...